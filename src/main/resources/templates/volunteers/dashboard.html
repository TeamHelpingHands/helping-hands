<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/head :: head" />
    <meta charset="UTF-8" />
    <title>Volunteer | Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/volunteer/dashboard.css}" />
</head>

<body>

<nav th:replace="fragments/navbar :: navbar"></nav>

    <div class="container">

        <h1 class="title">My Dashboard</h1>
        <p th:text="'Welcome, ' + ${currentUser.username} + '!'" class="hideOnSmall"></p>

        <div class="row my-3 mb-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-header" id="menu">
                        <div>
                            <ul>
                                <li>
                                    <a th:href="'/vols/messages'">Messages
                                        <span class="badge badge-light" th:text="${newMessageCount}" style="background-color: #2ec4b6; color: #fff;"></span>
                                    </a>
                                </li>
                                <span class="hideOnSmall">|</span>
                                <li>
                                    <a th:href="'/vols/'+ ${currentUser.username} + '/events/'">My Events</a>
                                </li>
                                <span class="hideOnSmall">|</span>
                                <li>
                                  <li><a th:href="@{/events}">Upcoming Events</a></li>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body row">
                        <div class="col-12 col-sm-3">
                            <div>
                                <img class="mb-3 mb-sm-0" th:src="${currentUser.photoUrl}" alt="" style="width: 100%;" />
                            </div>
                        </div>
                        <div class="col-12 col-sm-9">
                            <div class="row">
                                <div class="col-12 col-m-6 col-lg-6 text-center">
                                    <p th:text="'Full Name: ' + ${currentUser.firstName} + ' ' + ${currentUser.lastName}"></p>
                                    <p th:text="'Phone Number: ' + ${currentUser.phnNum}"></p>
                                    <p th:text="'Email: ' + ${currentUser.email}"></p>
                                    <small id="noEventsEnrolled " class="hide " th:value="${noEventsEnrolled} "></small>
                                    <small id="noOfDidAttend " class="hide " th:value="${noOfDidAttend} "></small>
                                    <p th:text=" 'Number of events committed to: ' + ${noEventsEnrolled} "></p>
                                    <p th:text=" 'Number of events attended: ' + ${noOfDidAttend} "></p>
                                </div>
                                <div class="col-12 col-m6 col-lg-6 text-center">
                                    <h5>About Me:</h5>
                                    <p th:text="${currentUser.volunteer.bio}"></p>
                                    <hr />
                                    <h5 th:text="'- My Favorites ' + '('+ ${currentUser.favorites.size()}+') '+'-'"></h5>
                                    <div th:each="favorite : ${currentUser.favorites}">
                                        <a th:href="'/orgs/'+${favorite.orgName}"><p th:text="${favorite.orgName}"></p></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="hideOnSmall">
            <th:block th:replace="fragments/hr-custom :: hr-custom" />
        </div>
        <div style="height: 100px"></div>
    </div>

    <!-- ======= Footer ======= -->
    <th:block: th:replace="fragments/footer :: footer" />
<script th:replace="fragments/scripts :: scripts"></script>
</body>
</html>