<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <th:block th:replace="fragments/head :: head" />
    <title th:text="${event.org} + ' | '+${event.eventName}"></title>
    <link rel="stylesheet" th:href="@{/css/organization/show.css}" />
</head>
<body>
<nav th:replace="fragments/navbar :: navbar"></nav>
<div class="container">

    <h1 th:text="${event.org.orgName}"></h1>

    <div class="row my-3">
        <div class="col-12 m-auto">
            <div class="card cardProfile">
                <div class="card-header text-center">
                    <h3 th:text="${event.eventName}+ ' manager:'"></h3>
                </div>
                <div class="card-body row">
                    <div class="container">
                        <section id="single-event">
                            <h3><i class="fas fa-users header-icons"></i> Attendees</h3>
                            <h5>Unverified:</h5>
                            <hr />
                            <div th:each="volunteer : ${event.volunteers}">
                                <div th:if="not ${attendees.contains(volunteer)}">
                                    <form th:action="@{/orgs/{org_name}/events/{event_id}/dash(org_name = ${event.getOrg().getOrgName()}, event_id = ${event.getId()})}" th:method="post">
                                        <label><span th:text="${volunteer.user.firstName}" /> <span th:text="${volunteer.user.lastName}" /></label>
                                        <span>|</span>
                                        <input type="hidden" name="volunteer" th:value="${volunteer.user.id}" />
                                        <span>|</span>
                                        <label for="feedback">feedback:</label>
                                        <input type="text" id="feedback" name="feedback" />
                                        <span>|</span>
                                        <button class="btn btn-custom">Attended</button>
                                    </form>
                                </div>
                            </div>
                        </section>
                        <section class="mt-4">
                            <h5>Verified:</h5>
                            <hr />
                            <div th:each="volunteer : ${event.volunteers}">
                                <div th:if="${attendees.contains(volunteer)}">
                                    <div>
                                        <span th:text="${volunteer.user.firstName}" />
                                        <span th:text="${volunteer.user.lastName}" />
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- ====================  Footer Section ====================  -->

                    </div>


                </div>
            </div>
        </div>
    </div>


    <th:block th:replace="fragments/hr-custom :: hr-custom" />
</div>

<!-- ====================  Footer  ====================  -->
<th:block th:replace="fragments/footer :: footer" />


<script th:replace="fragments/scripts :: scripts"></script>
</body>
</html>